{"ast":null,"code":"import React from'react';import{Routes,Route,Navigate}from'react-router-dom';import{useAuthStore}from'./stores/authStore';import Layout from'./components/Layout';import Login from'./pages/auth/Login';import Register from'./pages/auth/Register';import Dashboard from'./pages/Dashboard';import Groups from'./pages/Groups';import GroupDetails from'./pages/GroupDetails';import Transactions from'./pages/Transactions';import Payments from'./pages/Payments';import Profile from'./pages/Profile';import AdminDashboard from'./pages/admin/AdminDashboard';import AdminUsers from'./pages/admin/AdminUsers';import AdminGroups from'./pages/admin/AdminGroups';// Protected Route Component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children,allowedRoles=[]}=_ref;const{user,isAuthenticated}=useAuthStore();if(!isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}if(allowedRoles.length>0&&!allowedRoles.includes(user===null||user===void 0?void 0:user.role)){return/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true});}return children;};function App(){const{isAuthenticated}=useAuthStore();return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:isAuthenticated?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:isAuthenticated?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true}):/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsxs(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{})}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"dashboard\",element:/*#__PURE__*/_jsx(Dashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"groups\",element:/*#__PURE__*/_jsx(Groups,{})}),/*#__PURE__*/_jsx(Route,{path:\"groups/:groupId\",element:/*#__PURE__*/_jsx(GroupDetails,{})}),/*#__PURE__*/_jsx(Route,{path:\"transactions\",element:/*#__PURE__*/_jsx(Transactions,{})}),/*#__PURE__*/_jsx(Route,{path:\"payments\",element:/*#__PURE__*/_jsx(Payments,{})}),/*#__PURE__*/_jsx(Route,{path:\"profile\",element:/*#__PURE__*/_jsx(Profile,{})})]}),/*#__PURE__*/_jsxs(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['admin'],children:/*#__PURE__*/_jsx(Layout,{})}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(Navigate,{to:\"/admin/dashboard\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"dashboard\",element:/*#__PURE__*/_jsx(AdminDashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"users\",element:/*#__PURE__*/_jsx(AdminUsers,{})}),/*#__PURE__*/_jsx(Route,{path:\"groups\",element:/*#__PURE__*/_jsx(AdminGroups,{})})]}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true})})]})});}export default App;","map":{"version":3,"names":["React","Routes","Route","Navigate","useAuthStore","Layout","Login","Register","Dashboard","Groups","GroupDetails","Transactions","Payments","Profile","AdminDashboard","AdminUsers","AdminGroups","jsx","_jsx","jsxs","_jsxs","ProtectedRoute","_ref","children","allowedRoles","user","isAuthenticated","to","replace","length","includes","role","App","className","path","element","index"],"sources":["C:/Users/kelvin/Desktop/kijumbe/frontend/src/App.js"],"sourcesContent":["import React from 'react';\nimport { Routes, Route, Navigate } from 'react-router-dom';\nimport { useAuthStore } from './stores/authStore';\nimport Layout from './components/Layout';\nimport Login from './pages/auth/Login';\nimport Register from './pages/auth/Register';\nimport Dashboard from './pages/Dashboard';\nimport Groups from './pages/Groups';\nimport GroupDetails from './pages/GroupDetails';\nimport Transactions from './pages/Transactions';\nimport Payments from './pages/Payments';\nimport Profile from './pages/Profile';\nimport AdminDashboard from './pages/admin/AdminDashboard';\nimport AdminUsers from './pages/admin/AdminUsers';\nimport AdminGroups from './pages/admin/AdminGroups';\n\n// Protected Route Component\nconst ProtectedRoute = ({ children, allowedRoles = [] }) => {\n  const { user, isAuthenticated } = useAuthStore();\n  \n  if (!isAuthenticated) {\n    return <Navigate to=\"/login\" replace />;\n  }\n  \n  if (allowedRoles.length > 0 && !allowedRoles.includes(user?.role)) {\n    return <Navigate to=\"/dashboard\" replace />;\n  }\n  \n  return children;\n};\n\nfunction App() {\n  const { isAuthenticated } = useAuthStore();\n\n  return (\n    <div className=\"App\">\n      <Routes>\n        {/* Public Routes */}\n        <Route path=\"/login\" element={\n          isAuthenticated ? <Navigate to=\"/dashboard\" replace /> : <Login />\n        } />\n        <Route path=\"/register\" element={\n          isAuthenticated ? <Navigate to=\"/dashboard\" replace /> : <Register />\n        } />\n        \n        {/* Protected Routes */}\n        <Route path=\"/\" element={\n          <ProtectedRoute>\n            <Layout />\n          </ProtectedRoute>\n        }>\n          <Route index element={<Navigate to=\"/dashboard\" replace />} />\n          <Route path=\"dashboard\" element={<Dashboard />} />\n          <Route path=\"groups\" element={<Groups />} />\n          <Route path=\"groups/:groupId\" element={<GroupDetails />} />\n          <Route path=\"transactions\" element={<Transactions />} />\n          <Route path=\"payments\" element={<Payments />} />\n          <Route path=\"profile\" element={<Profile />} />\n        </Route>\n        \n        {/* Admin Routes */}\n        <Route path=\"/admin\" element={\n          <ProtectedRoute allowedRoles={['admin']}>\n            <Layout />\n          </ProtectedRoute>\n        }>\n          <Route index element={<Navigate to=\"/admin/dashboard\" replace />} />\n          <Route path=\"dashboard\" element={<AdminDashboard />} />\n          <Route path=\"users\" element={<AdminUsers />} />\n          <Route path=\"groups\" element={<AdminGroups />} />\n        </Route>\n        \n        {/* Catch all route */}\n        <Route path=\"*\" element={<Navigate to=\"/dashboard\" replace />} />\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}